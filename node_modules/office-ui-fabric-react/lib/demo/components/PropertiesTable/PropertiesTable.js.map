{"version":3,"sources":["demo/components/PropertiesTable/PropertiesTable.tsx"],"names":[],"mappings":"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","file":"demo/components/PropertiesTable/PropertiesTable.js","sourcesContent":["import * as React from 'react';\r\nimport './PropertiesTable.scss';\r\nimport { DetailsList, DetailsListLayoutMode, IColumn, IGroup } from '../../../DetailsList';\r\nimport { SelectionMode } from '../../../utilities/selection/interfaces';\r\nimport { assign } from '../../../utilities/object';\r\n\r\nexport interface IProperty {\r\n  name: string;\r\n  propertyName: string;\r\n  propertyType: PropertyType;\r\n  property: IInterfaceProperty[] | IEnumProperty[];\r\n}\r\n\r\nexport interface IInterfaceProperty {\r\n  name: string;\r\n  type: string;\r\n  defaultValue: string;\r\n  description: string;\r\n  interfacePropertyType: InterfacePropertyType;\r\n  deprecatedMessage: string;\r\n}\r\n\r\nexport enum InterfacePropertyType {\r\n  required = 0,\r\n  optional = 1,\r\n  deprecated = 2\r\n}\r\n\r\nexport interface IEnumProperty {\r\n  name: string;\r\n  description: string;\r\n}\r\n\r\nexport interface IPropertiesTableProps {\r\n  title?: string;\r\n  properties: IInterfaceProperty[] | IEnumProperty[];\r\n  renderAsEnum?: boolean;\r\n  key?: string;\r\n}\r\n\r\nexport enum PropertyType {\r\n  enum, interface\r\n}\r\n\r\nconst DEFAULT_COLUMNS: IColumn[] = [\r\n  {\r\n    key: 'name',\r\n    name: 'Name',\r\n    fieldName: 'name',\r\n    minWidth: 150,\r\n    maxWidth: 250,\r\n    isCollapsable: false,\r\n    isRowHeader: true,\r\n    isResizable: true\r\n  },\r\n  {\r\n    key: 'type',\r\n    name: 'Type',\r\n    fieldName: 'type',\r\n    minWidth: 130,\r\n    maxWidth: 150,\r\n    isCollapsable: false,\r\n    isResizable: true\r\n  },\r\n  {\r\n    key: 'defaultValue',\r\n    name: 'Default value',\r\n    fieldName: 'defaultValue',\r\n    minWidth: 130,\r\n    maxWidth: 150,\r\n    isCollapsable: false,\r\n    isResizable: true\r\n  }, {\r\n    key: 'description',\r\n    name: 'Description',\r\n    fieldName: 'description',\r\n    minWidth: 300,\r\n    maxWidth: 400,\r\n    isCollapsable: false,\r\n    isResizable: true,\r\n    isMultiline: true\r\n  }\r\n];\r\n\r\nconst ENUM_COLUMNS: IColumn[] = [\r\n  {\r\n    key: 'name',\r\n    name: 'Name',\r\n    fieldName: 'name',\r\n    minWidth: 150,\r\n    maxWidth: 250,\r\n    isCollapsable: false,\r\n    isRowHeader: true,\r\n    isResizable: true\r\n  },\r\n  {\r\n    key: 'description',\r\n    name: 'Description',\r\n    fieldName: 'description',\r\n    minWidth: 300,\r\n    maxWidth: 400,\r\n    isCollapsable: false,\r\n    isResizable: true\r\n  }\r\n];\r\n\r\nexport class PropertiesTable extends React.Component<IPropertiesTableProps, any> {\r\n  public static defaultProps = {\r\n    title: 'Properties'\r\n  };\r\n\r\n  constructor(props: IPropertiesTableProps) {\r\n    super(props);\r\n\r\n    let properties = (props.properties as any[])\r\n        .map((prop, index) => assign({ key: index }, prop))\r\n        .sort((a, b) => (a.name > b.name) ? -1 : 1)\r\n        .sort((a, b) => (a.interfacePropertyType < b.interfacePropertyType) ? -1 : 1);\r\n\r\n    let groups = null;\r\n\r\n    if (!props.renderAsEnum) {\r\n      groups = this._getGroups(properties);\r\n    }\r\n\r\n    this.state = {\r\n      properties,\r\n      groups,\r\n      isEnum: !!props.renderAsEnum\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    let { title } = this.props;\r\n    let { properties, isEnum, groups } = this.state;\r\n\r\n    return (\r\n      <div className='PropertiesTable'>\r\n        <h2 className='ms-font-xl'>{ title }</h2>\r\n        { (properties && properties.length) ? (\r\n          <DetailsList\r\n            selectionMode={ SelectionMode.none }\r\n            layoutMode={ DetailsListLayoutMode.justified }\r\n            items={ properties }\r\n            groups={ groups }\r\n            columns={ isEnum ? ENUM_COLUMNS : DEFAULT_COLUMNS }\r\n            />\r\n        ) : (\r\n            <div className='PropertiesTable-noProperties'>This component is missing properties. Please provide properties or remove the table from the example.</div>\r\n          ) }\r\n        </div>\r\n    );\r\n  }\r\n\r\n  private _getGroups(props: IInterfaceProperty[]) {\r\n    let groups: IGroup[] = [];\r\n    let index = 0;\r\n\r\n    index = this._tryAddGroup(props, InterfacePropertyType.required, 'Required members', index, groups);\r\n    index = this._tryAddGroup(props, InterfacePropertyType.optional, 'Optional members', index, groups);\r\n    index = this._tryAddGroup(props, InterfacePropertyType.deprecated, 'Deprecated members', index, groups);\r\n\r\n    return groups;\r\n  }\r\n\r\n  private _tryAddGroup(props, typeToCompare: InterfacePropertyType, name: string, index: number, allGroups): number {\r\n    let group: IGroup;\r\n\r\n    while (index < props.length) {\r\n      let prop = props[index] ;\r\n\r\n      if (prop.interfacePropertyType !== typeToCompare) {\r\n        break;\r\n      }\r\n\r\n      if (!group) {\r\n        group = {\r\n          key: name,\r\n          name,\r\n          startIndex: index,\r\n          count: 0\r\n        };\r\n        allGroups.push(group);\r\n      }\r\n      group.count++;\r\n      index++;\r\n    }\r\n\r\n    return index;\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\..\\src"}