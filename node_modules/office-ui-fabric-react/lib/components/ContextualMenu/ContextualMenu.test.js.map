{"version":3,"sources":["components/ContextualMenu/ContextualMenu.test.tsx"],"names":[],"mappings":";AAAA,uCAAuC;AACvC,IAAY,KAAK,WAAM,OAAO,CAAC,CAAA;AAC/B,sCAAsC;AAEtC,IAAY,cAAc,WAAM,yBAAyB,CAAC,CAAA;AAC1D,0BAEO,iBAAiB,CAAC,CAAA;AACzB,0BAAmC,iBAAiB,CAAC,CAAA;AAE/C,wBAAM,CAAU;AAEtB,+BAA+B,kBAAkB,CAAC,CAAA;AAGlD,QAAQ,CAAC,gBAAgB,EAAE;IAEzB,SAAS,CAAC;QACR,OAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC5C,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QACrE,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,sDAAsD,EAAE;QACzD,IAAM,KAAK,GAA0B;YACnC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;YACxE,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;YACxE,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;YACxE,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;SACzE,CAAC;QAEF,cAAc,CAAC,kBAAkB,CAC/B,oBAAC,+BAAc,GACb,KAAK,EAAG,KAAO,EACb,CACL,CAAC;QAEF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,yBAAyB,CAAqB,CAAC;QAErF,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,EAAE,wDAAwD,CAAC,CAAC;IAC3H,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yCAAyC,EAAE;QAC5C,IAAM,KAAK,GAA0B;YACnC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;SACxC,CAAC;QAEF,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,IAAI,YAAY,GAAG,UAAC,EAAQ,EAAE,UAAoB,IAAO,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAE7E,cAAc,CAAC,kBAAkB,CAC/B,oBAAC,+BAAc,GACb,KAAK,EAAG,KAAO,EACf,SAAS,EAAG,IAAM,EAClB,SAAS,EAAG,YAAc,EACxB,CACL,CAAC;QAEF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,2BAA2B,CAAqB,CAAC;QACvF,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,oBAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;QAEpE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC;IAC/B,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gFAAgF,EAAE;QACnF,IAAM,KAAK,GAA0B;YACnC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;SACxC,CAAC;QAEF,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,IAAI,YAAY,GAAG,UAAC,EAAQ,EAAE,UAAoB,IAAO,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAE7E,cAAc,CAAC,kBAAkB,CAC/B,oBAAC,+BAAc,GACb,KAAK,EAAG,KAAO,EACf,SAAS,EAAG,IAAM,EAClB,SAAS,EAAG,YAAc,EAC1B,cAAc,EAAG,8BAAkB,CAAC,UAAY,EAC9C,CACL,CAAC;QAEF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,2BAA2B,CAAqB,CAAC;QACvF,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,oBAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;QAEpE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,mFAAmF,EAAE;QACtF,IAAM,KAAK,GAA0B;YACnC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;YACvC,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,EAAE,UAAU,EAAE;SACxC,CAAC;QAEF,IAAI,SAAS,GAAG,KAAK,CAAC;QACtB,IAAI,YAAY,GAAG,UAAC,EAAQ,EAAE,UAAoB,IAAO,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QAE7E,cAAc,CAAC,kBAAkB,CAC/B,oBAAC,+BAAc,GACb,KAAK,EAAG,KAAO,EACf,SAAS,EAAG,IAAM,EAClB,SAAS,EAAG,YAAc,EAC1B,cAAc,EAAG,8BAAkB,CAAC,UAAY,EAC9C,CACL,CAAC;QAEF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,2BAA2B,CAAqB,CAAC;QACvF,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,oBAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;QAEpE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,qCAAqC,EAAE;QACxC,IAAM,KAAK,GAA0B;YACnC;gBACE,IAAI,EAAE,YAAY;gBAClB,GAAG,EAAE,UAAU;gBACf,YAAY,EAAE;oBACZ,KAAK,EAAE;wBACL;4BACE,IAAI,EAAE,eAAe;4BACrB,GAAG,EAAE,aAAa;4BAClB,SAAS,EAAE,cAAc;yBAC1B;qBACF;iBACF;aACF;SACF,CAAC;QACF,cAAc,CAAC,kBAAkB,CAC/B,oBAAC,+BAAc,GACb,KAAK,EAAG,KAAO,EACb,CACL,CAAC;QAEF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,+BAA+B,CAAsB,CAAC;QAE5F,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,oBAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;QAErE,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC;IAC3D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,+BAA+B,EAAE;QAClC,IAAM,KAAK,GAA0B;YACnC;gBACE,IAAI,EAAE,YAAY;gBAClB,GAAG,EAAE,UAAU;gBACf,YAAY,EAAE;oBACZ,KAAK,EAAE;wBACL;4BACE,IAAI,EAAE,eAAe;4BACrB,GAAG,EAAE,aAAa;4BAClB,SAAS,EAAE,cAAc;yBAC1B;qBACF;iBACF;aACF;SACF,CAAC;QAEF,cAAc,CAAC,kBAAkB,CAC/B,oBAAC,+BAAc,GACb,KAAK,EAAG,KAAO,EACb,CACL,CAAC;QAEF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,+BAA+B,CAAsB,CAAC;QAE5F,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAExC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC;IAC3D,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,gEAAgE,EAAE;QACnE,IAAM,KAAK,GAA0B;YACnC;gBACE,IAAI,EAAE,YAAY;gBAClB,GAAG,EAAE,UAAU;gBACf,KAAK,EAAE;oBACL;wBACE,IAAI,EAAE,eAAe;wBACrB,GAAG,EAAE,aAAa;wBAClB,SAAS,EAAE,cAAc;qBAC1B;iBACF;aACF;SACF,CAAC;QAEF,cAAc,CAAC,kBAAkB,CAC/B,oBAAC,+BAAc,GACb,KAAK,EAAG,KAAO,EACb,CACL,CAAC;QAEF,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,+BAA+B,CAAsB,CAAC;QAC5F,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,oBAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;QAErE,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC;IAC3D,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","file":"components/ContextualMenu/ContextualMenu.test.js","sourcesContent":["/* tslint:disable:no-unused-variable */\r\nimport * as React from 'react';\r\n/* tslint:enable:no-unused-variable */\r\n\r\nimport * as ReactTestUtils from 'react-addons-test-utils';\r\nimport {\r\n  KeyCodes,\r\n} from '../../Utilities';\r\nimport { FocusZoneDirection } from '../../FocusZone';\r\n\r\nlet { expect } = chai;\r\n\r\nimport { ContextualMenu } from './ContextualMenu';\r\nimport { IContextualMenuItem } from './ContextualMenu.Props';\r\n\r\ndescribe('ContextualMenu', () => {\r\n\r\n  afterEach(() => {\r\n    while (window.document.body.children.length) {\r\n      window.document.body.removeChild(window.document.body.children[0]);\r\n    }\r\n  });\r\n\r\n  it('does not have a scrollbar due to an overflowing icon', () => {\r\n    const items: IContextualMenuItem[] = [\r\n      { name: 'TestText 1', key: 'TestKey1', canCheck: true, isChecked: true },\r\n      { name: 'TestText 2', key: 'TestKey2', canCheck: true, isChecked: true },\r\n      { name: 'TestText 3', key: 'TestKey3', canCheck: true, isChecked: true },\r\n      { name: 'TestText 4', key: 'TestKey4', canCheck: true, isChecked: true },\r\n    ];\r\n\r\n    ReactTestUtils.renderIntoDocument<ContextualMenu>(\r\n      <ContextualMenu\r\n        items={ items }\r\n        />\r\n    );\r\n\r\n    let menuList = document.querySelector('.ms-ContextualMenu-list') as HTMLUListElement;\r\n\r\n    expect(menuList.scrollHeight).to.be.lte(menuList.offsetHeight, 'ContextualMenu is showing a scrollbar due to checkmark');\r\n  });\r\n\r\n  it('closes on left arrow if it is a submenu', () => {\r\n    const items: IContextualMenuItem[] = [\r\n      { name: 'TestText 1', key: 'TestKey1' },\r\n      { name: 'TestText 2', key: 'TestKey2' },\r\n      { name: 'TestText 3', key: 'TestKey3' },\r\n      { name: 'TestText 4', key: 'TestKey4' },\r\n    ];\r\n\r\n    let spyCalled = false;\r\n    let onDismissSpy = (ev?: any, dismissAll?: boolean) => { spyCalled = true; };\r\n\r\n    ReactTestUtils.renderIntoDocument<ContextualMenu>(\r\n      <ContextualMenu\r\n        items={ items }\r\n        isSubMenu={ true }\r\n        onDismiss={ onDismissSpy }\r\n        />\r\n    );\r\n\r\n    let menuList = document.querySelector('ul.ms-ContextualMenu-list') as HTMLUListElement;\r\n    ReactTestUtils.Simulate.keyDown(menuList, { which: KeyCodes.left });\r\n\r\n    expect(spyCalled).to.be.true;\r\n  });\r\n\r\n  it('does not close on left arrow if it is a submenu with horizontal arrowDirection', () => {\r\n    const items: IContextualMenuItem[] = [\r\n      { name: 'TestText 1', key: 'TestKey1' },\r\n      { name: 'TestText 2', key: 'TestKey2' },\r\n      { name: 'TestText 3', key: 'TestKey3' },\r\n      { name: 'TestText 4', key: 'TestKey4' },\r\n    ];\r\n\r\n    let spyCalled = false;\r\n    let onDismissSpy = (ev?: any, dismissAll?: boolean) => { spyCalled = true; };\r\n\r\n    ReactTestUtils.renderIntoDocument<ContextualMenu>(\r\n      <ContextualMenu\r\n        items={ items }\r\n        isSubMenu={ true }\r\n        onDismiss={ onDismissSpy }\r\n        arrowDirection={ FocusZoneDirection.horizontal }\r\n        />\r\n    );\r\n\r\n    let menuList = document.querySelector('ul.ms-ContextualMenu-list') as HTMLUListElement;\r\n    ReactTestUtils.Simulate.keyDown(menuList, { which: KeyCodes.left });\r\n\r\n    expect(spyCalled).to.be.false;\r\n  });\r\n\r\n  it('does not close on left arrow if it is a submenu with bidirectional arrowDirection', () => {\r\n    const items: IContextualMenuItem[] = [\r\n      { name: 'TestText 1', key: 'TestKey1' },\r\n      { name: 'TestText 2', key: 'TestKey2' },\r\n      { name: 'TestText 3', key: 'TestKey3' },\r\n      { name: 'TestText 4', key: 'TestKey4' },\r\n    ];\r\n\r\n    let spyCalled = false;\r\n    let onDismissSpy = (ev?: any, dismissAll?: boolean) => { spyCalled = true; };\r\n\r\n    ReactTestUtils.renderIntoDocument<ContextualMenu>(\r\n      <ContextualMenu\r\n        items={ items }\r\n        isSubMenu={ true }\r\n        onDismiss={ onDismissSpy }\r\n        arrowDirection={ FocusZoneDirection.horizontal }\r\n        />\r\n    );\r\n\r\n    let menuList = document.querySelector('ul.ms-ContextualMenu-list') as HTMLUListElement;\r\n    ReactTestUtils.Simulate.keyDown(menuList, { which: KeyCodes.left });\r\n\r\n    expect(spyCalled).to.be.false;\r\n  });\r\n\r\n  it('opens a submenu item on right arrow', () => {\r\n    const items: IContextualMenuItem[] = [\r\n      {\r\n        name: 'TestText 1',\r\n        key: 'TestKey1',\r\n        subMenuProps: {\r\n          items: [\r\n            {\r\n              name: 'SubmenuText 1',\r\n              key: 'SubmenuKey1',\r\n              className: 'SubMenuClass'\r\n            }\r\n          ]\r\n        }\r\n      },\r\n    ];\r\n    ReactTestUtils.renderIntoDocument<ContextualMenu>(\r\n      <ContextualMenu\r\n        items={ items }\r\n        />\r\n    );\r\n\r\n    let menuItem = document.querySelector('button.ms-ContextualMenu-link') as HTMLButtonElement;\r\n\r\n    ReactTestUtils.Simulate.keyDown(menuItem, { which: KeyCodes.right });\r\n\r\n    expect(document.querySelector('.SubMenuClass')).to.exist;\r\n  });\r\n\r\n  it('opens a submenu item on click', () => {\r\n    const items: IContextualMenuItem[] = [\r\n      {\r\n        name: 'TestText 1',\r\n        key: 'TestKey1',\r\n        subMenuProps: {\r\n          items: [\r\n            {\r\n              name: 'SubmenuText 1',\r\n              key: 'SubmenuKey1',\r\n              className: 'SubMenuClass'\r\n            }\r\n          ]\r\n        }\r\n      },\r\n    ];\r\n\r\n    ReactTestUtils.renderIntoDocument<ContextualMenu>(\r\n      <ContextualMenu\r\n        items={ items }\r\n        />\r\n    );\r\n\r\n    let menuItem = document.querySelector('button.ms-ContextualMenu-link') as HTMLButtonElement;\r\n\r\n    ReactTestUtils.Simulate.click(menuItem);\r\n\r\n    expect(document.querySelector('.SubMenuClass')).to.exist;\r\n  });\r\n\r\n  it('still works with deprecated IContextualMenuItem.items property', () => {\r\n    const items: IContextualMenuItem[] = [\r\n      {\r\n        name: 'TestText 1',\r\n        key: 'TestKey1',\r\n        items: [\r\n          {\r\n            name: 'SubmenuText 1',\r\n            key: 'SubmenuKey1',\r\n            className: 'SubMenuClass'\r\n          }\r\n        ]\r\n      },\r\n    ];\r\n\r\n    ReactTestUtils.renderIntoDocument<ContextualMenu>(\r\n      <ContextualMenu\r\n        items={ items }\r\n        />\r\n    );\r\n\r\n    let menuItem = document.querySelector('button.ms-ContextualMenu-link') as HTMLButtonElement;\r\n    ReactTestUtils.Simulate.keyDown(menuItem, { which: KeyCodes.right });\r\n\r\n    expect(document.querySelector('.SubMenuClass')).to.exist;\r\n  });\r\n});\r\n"],"sourceRoot":"..\\..\\..\\src"}