{"version":3,"sources":["components/Panel/Panel.tsx"],"names":[],"mappings":"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","file":"components/Panel/Panel.js","sourcesContent":["/* tslint:disable:no-unused-variable */\r\nimport * as React from 'react';\r\n/* tslint:enable:no-unused-variable */\r\n\r\nimport { BaseComponent } from '../../common/BaseComponent';\r\nimport { FocusTrapZone } from '../FocusTrapZone/index';\r\nimport { IPanelProps, PanelType } from './Panel.Props';\r\nimport { Layer } from '../Layer/Layer';\r\nimport { Overlay } from '../../Overlay';\r\nimport { Popup } from '../Popup/index';\r\nimport { css } from '../../utilities/css';\r\nimport { getId } from '../../utilities/object';\r\nimport { getRTL } from '../../utilities/rtl';\r\nimport './Panel.scss';\r\n\r\nexport interface IPanelState {\r\n  isOpen?: boolean;\r\n  isAnimatingOpen?: boolean;\r\n  isAnimatingClose?: boolean;\r\n  id?: string;\r\n}\r\n\r\nexport class Panel extends BaseComponent<IPanelProps, IPanelState> {\r\n\r\n  public static defaultProps: IPanelProps = {\r\n    isOpen: false,\r\n    isBlocking: true,\r\n    hasCloseButton: true,\r\n    type: PanelType.smallFixedFar,\r\n  };\r\n\r\n  constructor(props: IPanelProps) {\r\n    super(props);\r\n\r\n    this._onPanelClick = this._onPanelClick.bind(this);\r\n    this._onPanelRef = this._onPanelRef.bind(this);\r\n\r\n    this.state = {\r\n      isOpen: !!props.isOpen,\r\n      isAnimatingOpen: props.isOpen,\r\n      isAnimatingClose: false,\r\n      id: getId('Panel')\r\n    };\r\n  }\r\n\r\n  public componentDidMount() {\r\n    if (this.state.isOpen) {\r\n      this._async.setTimeout(() => {\r\n        this.setState({\r\n          isAnimatingOpen: false\r\n        });\r\n      }, 2000);\r\n    }\r\n  }\r\n\r\n  public componentWillReceiveProps(newProps: IPanelProps) {\r\n    if (newProps.isOpen !== this.state.isOpen) {\r\n      this.setState({\r\n        isOpen: newProps.isOpen,\r\n        isAnimatingOpen: newProps.isOpen ? true : false,\r\n        isAnimatingClose: newProps.isOpen ? false : true\r\n      });\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    let {\r\n      children,\r\n      className = '',\r\n      type,\r\n      hasCloseButton,\r\n      isLightDismiss,\r\n      isBlocking,\r\n      headerText,\r\n      closeButtonAriaLabel,\r\n      headerClassName = '',\r\n      elementToFocusOnDismiss,\r\n      ignoreExternalFocusing,\r\n      forceFocusInsideTrap,\r\n      firstFocusableSelector\r\n    } = this.props;\r\n    let { isOpen, isAnimatingOpen, isAnimatingClose, id } = this.state;\r\n    let isLeft = type === PanelType.smallFixedNear ? true : false;\r\n    let isRTL = getRTL();\r\n    let isOnRightSide = isRTL ? isLeft : !isLeft;\r\n    const headerTextId = id + '-headerText';\r\n\r\n    let pendingCommandBarContent = '';\r\n\r\n    if (!isOpen) {\r\n      return null;\r\n    }\r\n\r\n    let header;\r\n    if (headerText) {\r\n      header = <p className={css('ms-Panel-headerText', headerClassName)} id={headerTextId}>{headerText}</p>;\r\n    }\r\n\r\n    let closeButton;\r\n    if (hasCloseButton) {\r\n      closeButton = <button className='ms-Panel-closeButton ms-PanelAction-close' onClick={this._onPanelClick} aria-label={closeButtonAriaLabel} data-is-visible={true}>\r\n        <i className='ms-Panel-closeIcon ms-Icon ms-Icon--Cancel'></i>\r\n      </button>;\r\n    }\r\n\r\n    let overlay;\r\n    if (isBlocking) {\r\n      overlay = <Overlay\r\n        isDarkThemed={false}\r\n        onClick={isLightDismiss ? this._onPanelClick : null}\r\n        />;\r\n    }\r\n\r\n    return (\r\n      <Layer>\r\n        <Popup\r\n          role='dialog'\r\n          ariaLabelledBy={headerText ? headerTextId : undefined}\r\n          onDismiss={this.props.onDismiss}>\r\n          <div\r\n            ref={this._onPanelRef}\r\n            className={\r\n              css('ms-Panel', className, {\r\n                'ms-Panel--openLeft': !isOnRightSide,  // because the RTL animations are not being used, we need to set a class\r\n                'ms-Panel--openRight': isOnRightSide,  // because the RTL animations are not being used, we need to set a class\r\n                'is-open': isOpen,\r\n                'ms-Panel-animateIn': isAnimatingOpen,\r\n                'ms-Panel-animateOut': isAnimatingClose,\r\n                'ms-Panel--smFluid': type === PanelType.smallFluid,\r\n                'ms-Panel--smLeft': type === PanelType.smallFixedNear,\r\n                'ms-Panel--sm': type === PanelType.smallFixedFar,\r\n                'ms-Panel--md': type === PanelType.medium,\r\n                'ms-Panel--lg': type === PanelType.large || type === PanelType.largeFixed,\r\n                'ms-Panel--fixed': type === PanelType.largeFixed,\r\n                'ms-Panel--xl': type === PanelType.extraLarge,\r\n              })\r\n            }\r\n            >\r\n            { overlay }\r\n            <FocusTrapZone\r\n              className='ms-Panel-main'\r\n              elementToFocusOnDismiss={elementToFocusOnDismiss}\r\n              isClickableOutsideFocusTrap={isLightDismiss}\r\n              ignoreExternalFocusing={ignoreExternalFocusing}\r\n              forceFocusInsideTrap={forceFocusInsideTrap}\r\n              firstFocusableSelector={firstFocusableSelector}\r\n              >\r\n              <div className='ms-Panel-commands' data-is-visible={true} >\r\n                {pendingCommandBarContent}\r\n                {closeButton}\r\n              </div>\r\n              <div className='ms-Panel-contentInner'>\r\n                {header}\r\n                <div className='ms-Panel-content'>\r\n                  {children}\r\n                </div>\r\n              </div>\r\n            </FocusTrapZone>\r\n          </div>\r\n        </Popup>\r\n      </Layer>\r\n    );\r\n  }\r\n\r\n  public dismiss() {\r\n    if (this.state.isOpen) {\r\n      this.setState({\r\n        isAnimatingOpen: false,\r\n        isAnimatingClose: true\r\n      });\r\n    }\r\n  }\r\n\r\n  private _onPanelClick() {\r\n    this.dismiss();\r\n  }\r\n\r\n  private _onPanelRef(ref: HTMLDivElement) {\r\n    if (ref) {\r\n      this._events.on(ref, 'animationend', this._onAnimationEnd);\r\n    } else {\r\n      this._events.off();\r\n    }\r\n  }\r\n\r\n  private _onAnimationEnd(ev: AnimationEvent) {\r\n    if (ev.animationName.indexOf('In') > -1) {\r\n      this.setState({\r\n        isOpen: true,\r\n        isAnimatingOpen: false\r\n      });\r\n    }\r\n    if (ev.animationName.indexOf('Out') > -1) {\r\n      this.setState({\r\n        isOpen: false,\r\n        isAnimatingClose: false\r\n      });\r\n\r\n      if (this.props.onDismiss) {\r\n        this.props.onDismiss();\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\src"}